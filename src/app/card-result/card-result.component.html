<div id="content" #content>
  <div class="card card--np">
    <div class="result">
      <h1 class="result__info" *ngIf="service.levelGrade.levelName === 'Beginner'; else kek">
        <span class="subtitle">Кажется</span>
        <span class="title">Oh shit,</span>
        <span class="result__level">that is you</span>
      </h1>

      <!-- Нужен для события, когда сверху прилетает false -->
      <ng-template #kek>
        <h1 class="result__info">
          <span class="subtitle">Кажется</span>
          <span class="title">You are</span>
          <span class="result__level">{{ service.levelGrade.levelName }}</span>
        </h1>
      </ng-template>

      <div class="score">Score: {{service.progressInfo.totalScore}}</div>
      <img class="result__img"
        [attr.src]="service.levelGrade.imgUrl"
        [attr.alt]="service.levelGrade.alt">
    </div>

    <div class="card__footer">
      <div class="prompt">
        Скачайте нужный формат результатов, чтобы поделиться&nbsp;им
      </div>
      <div class="btn__wrapper">
        <button class="btn">Сторис<br>в инсту</button>
        <button class="btn" (click)="exportImgResult()">Пост<br>квадратный</button>
      </div>
    </div>
  </div>

  <div class="card card--with-aside">
    <div class="card__title">
      <div class="title">Карта компетенций</div>
    </div>

    <div class="custom__aside">
      <div class="prompt prompt--fixed">
        <strong>Скачайте результаты</strong>
        <span>Они не&nbsp;сохранятся на&nbsp;сайте</span>
        <button class="btn btn--colored" (click)="exportImgResult()">Скачать</button>
      </div>
    </div>

    <div class="legend">
      <span class="legend__el">Новичок</span>
      <span class="legend__el">Джун</span>
      <span class="legend__el">Мидл</span>
      <span class="legend__el">Синьёр</span>
      <span class="legend__el">Лид</span>
    </div>
    <div class="competence-map">
      <div class="competence-map__bar" *ngFor="let bar of service.statistic; let i = index">
        <div class="competence-map__bar-result" [attr.style]="bar.categoryResWidth"></div>
        <span class="competence-map__bar-legend" *ngIf="service.testDB[i];" [innerHTML]="service.testDB[i].theme"><sup>{{ i + 1 }}</sup></span>
        <!-- <span class="competence-map__bar-legend">{{ service.testDB[i].theme }}<sup>{{ i + 1 }}</sup></span> -->
        <!-- <span style="position: absolute;left: 20px;top: 50%;transform: translateY(-50%);">{{ bar.categoryTotalScore }} из {{ bar.categoryMaxScore }}</span> -->
      </div>
    </div>
    <div class="competence-map__legend">
      <div class="competence-map__legend-el" *ngFor="let block of testDB; let j = index">
        <p>{{ j + 1 }}</p>
        <p *ngFor="let question of block.questions; let j = index" [innerHTML]="question.title"></p>
      </div>
    </div>

    <div id="link-holder" style="display: none;"></div>
    <div class="line-grid">
      <div class="grid-line"></div>
      <div class="grid-line"></div>
      <div class="grid-line"></div>
      <div class="grid-line"></div>
      <div class="grid-line"></div>
    </div>
  </div>
</div>
